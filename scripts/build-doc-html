#   /bin/bash
#
# builds html files in gamalib/doc/gamalib
# 
# $Id: build-doc-html,v 1.1 2001/12/07 11:45:44 cepek Exp $


if pwd | grep /scripts$; then cd ..; fi

echo
( cd scripts ; make -f Makefile-gamalib2xhtml )
echo
echo -n "Creating doc/gamalib/*.html  "

rm -rf doc/gamalib
#
# zde jsem explicitne doplnil mkdir, abych zarucil, ze skript bude fungovat
# i pro slink; obdobne presmerovani mkdir doc/$i 2>/dev/null (ls -R funguje
# jinak v potato nez ve slinku)
#
mkdir  doc/gamalib
for i in `ls -R  gamalib/ | grep -v CVS | grep : | tr -d ':' | sort`
do
        mkdir doc/$i 2>/dev/null
done

for f in $( find gamalib | grep \.h$ | grep -v \# | grep -v \~ )
do
        echo -n .;
        scripts/gamalib2xhtml gamalib $f doc
done

echo
echo

